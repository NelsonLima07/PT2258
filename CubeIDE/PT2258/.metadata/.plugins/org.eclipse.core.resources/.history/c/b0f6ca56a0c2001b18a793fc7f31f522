/*
 * J3_SH1106.h
 *
 *  Created on: May 31, 2021
 *      Author: Nelson Lima
 */


#ifndef INC_J3_PT2258_H_
#define INC_J3_PT2258_H_

#include "i2c.h"

/* U = Unidade D = Dezena */
/* Sistema deve enviar sempre atenuacao com 2 bytes */
/* Os 4 bits de endereco e 4 bits do valor */
/* Primeiro byte da dezena e segundo byte da unidade */

#define MASTER_U 0xE0
#define MASTER_D 0xD0
#define CANAL1_U 0x90
#define CANAL1_D 0x80
#define CANAL2_U 0x50
#define CANAL2_D 0x40
#define CANAL3_U 0x10
#define CANAL3_D 0x00
#define CANAL4_U 0x30
#define CANAL4_D 0x20
#define CANAL5_U 0x70
#define CANAL5_D 0x60
#define CANAL6_U 0xB0
#define CANAL6_D 0xA0

#define MUTE_ON  0xF9
#define MUTE_OFF 0xF8




/* Endereco
 * CODE1 CODE2  Endereco
 *   1     1      0x8C
 *   1     0      0x88
 *   0     1      0x84
 *   0     0      0x80
 */

typedef struct TPT2258;

TPT2258* J3_PT2258_new(I2C_HandleTypeDef* _i2c, uint8_t _i2c_address); /* Retorna um ponteiro para o CI PT2258 */

/*_canal -> 1 a 6 ou 0 para Master */
void J3_PT2258_setVolumeCanal(TPT2258* _pt2258, uint8_t _canal, uint8_t _vol);
void J3_PT2258_SetMuteOn();
void J3_PT2258_SetMuteOff();

#endif /* INC_J3_PT2258_H_ */
